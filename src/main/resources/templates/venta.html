<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="utf-8">
        <meta http-equiv="Expires" content="0">
        <meta http-equiv="Last-Modified" content="0">
        <meta http-equiv="Cache-Control" content="no-cache, mustrevalidate">
        <meta http-equiv="Pragma" content="no-cache">

        <title>FOOD - Venta</title>

        <link href="../static/css/todo.css" th:href="@{/css/todo.css}" rel="stylesheet" type="text/css">
        <link href="../static/css/venta.css" th:href="@{/css/venta.css}" rel="stylesheet" type="text/css">
        <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
        <link href="../static/imgs/icono-2.ico" th:href="@{/imgs/icono-2.ico}" rel="shortcut icon">

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	</head>
    <body>
    <nav th:replace="fragments.html :: nav"></nav>

        <div class="container">
        	<b class="titulo">Venta de alimentos</b>
            <div th:replace="fragments.html :: rol"></div>
            <hr size=4 color="#CCCCCC">
            <div id="clienteLoad">
                <form th:replace="fragments.html :: cliente"></form>
            </div>
           <!--  <script>
                function validar() {
                    var telefono, nombre, apellido, dir, rfc, rfcConv;
                    telefono = document.getElementById("telefono").value;
                    nombre = document.getElementById("nombre").value;
                    apellido = document.getElementById("apellido").value;
                    dir = document.getElementById("dir").value;
                    rfc = document.getElementById("rfc").value;
                    rfcConv=rfc.toUpperCase();
                    rfcChar= rfc.charAt(0);
                    rfcChar1=rfc.charAt(1);
                    rfcChar2=rfc.charAt(2);

                   if (isDigit(rfcChar)||isDigit(rfcChar1)||isDigit(rfcChar2)){
                        alert("los primero 3 caracteres deben ser letras")
                       return false;
                    }
                    if(rfc!=rfcConv){
                        alert("RFC debe ser en mayusculas")
                        return false;
                    }

                    if(rfc.length>13 || rfc.length<12){
                        alert("formato de RFC incorrecto")
                        return false;
                    }

                    if (telefono!=""||nombre!=""||apellido!=""||dir!=""||rfc.length>=12 && rfc.length<=13){
                        alert("agregado exitosamente" );
                        return true;
                    }
                }
            </script>-->
                <hr size=4 color="#CCCCCC">
                DETALLES DE LA ORDEN
                <hr size=4 color="#CCCCCC">
                <div id="contenidosReciboLoad">
                    <aside th:replace="fragments.html :: contenidosRecibo"></aside>
                </div>

            <!--AÑADIR ALIMENTO A LA LISTA DE COMPRA-->
            <img class="cat" src="/imgs/dishes.png" th:src="@{/imgs/dishes.png}">
            Alimentos
            <br>
            <select id="selectAlimento">
                <!--<option th:if="${}"></option>-->
                <option th:each="alimento : ${alimentos}" th:value="${alimento.id}" th:text="${alimento.categoria + ' ' + alimento.nombre + ' ' + alimento.tamano}"
                        th:title="${'$'+alimento.precio}"></option>
            </select>
            <button type="button" class="agregar" id="addAlimento" onclick="addAlimento()" size="20">Agregar Alimento</button>
            <br><br>
            <!--AÑADIR PROMOCION A LA LISTA DE COMPRA-->
            <img class="cat" src="/imgs/discount.png" th:src="@{/imgs/discount.png}">
            Promociones
            <br>
            <select id="selectPromocion">
                <option th:each="promocion : ${promociones}" th:value="${promocion.id}" th:text="${promocion.nombre}"></option>
            </select>
            <button type="button" class="agregar" id="addPromocion" onclick="addPromocion()">Agregar Promocion</button>
            <br><br>
            <img class="cat" src="/imgs/food.png" th:src="@{/imgs/food.png}">
            <br>
            <form action="#" th:action="@{/venta/addVenta}" th:object="${reciboModel}" method="post">
                Tipo de orden:
                <br>
                <input type="radio" name="orden" value="L" th:field="*{tipoOrden}" required>Local
                <input type="radio" name="orden" value="D" th:field="*{tipoOrden}">Domicilio
                <input type="radio" name="orden" value="R" th:field="*{tipoOrden}">Recoger

                <div class="hiddenDiv" id="showL">
                    <br>
                    <img class="cat" src="/imgs/number.png" th:src="@{/imgs/number.png}">
                    <br>
                    Número de Mesa: #
                    <input type="number" class="precio" min="0" th:field="*{numeroMesa}">
                </div>

                <div class="hiddenDiv" id="showD">
                    <br>
                    <img class="cat" src="/imgs/house.png" th:src="@{/imgs/house.png}">
                    <br>
                    Dirección de Entrega:
                    <input type="text" th:field="*{direccionDeEnvio}" size="20" id="dirEnvio">
                    <br>
                    Usar Dirección del Cliente:
                    <input type="checkbox" th:field="*{direccionCliente}" id="checkDir">
                </div>

                <div class="hiddenDiv" id="showR">
                    <br>
                    <img class="cat" src="/imgs/woman.png" th:src="@{/imgs/woman.png}">
                    <br>
                    Pedido a Nombre de:
                    <input type="text" th:field="*{notas}" size="20" id="recNombre">
                    <br>
                    Cliente pasara por el:
                    <input type="checkbox" th:field="*{recogerCliente}" id="checkRec">
                </div>

                <br><br>
                <img class="cat" src="/imgs/debit-card.png" th:src="@{/imgs/debit-card.png}">
                <br>
                Método de pago:
                <br>
                <input type="radio" name="metodo" value="E" th:field="*{metodoPago}" required>Efectivo
                <input type="radio" name="metodo" value="T" th:field="*{metodoPago}">Tarjeta
                <br><br>
                <img class="cat" src="/imgs/cash.png" th:src="@{/imgs/cash.png}">
                <br>
                Dinero Recibido: $<input class="precio" type="number" name="dinero" th:field="*{dineroRecibido}" min="0" required>
                <br><br>
                <input class="green" type="submit" value="Finalizar compra">
                <input class="red" type="reset" value="Cancelar compra">
            </form>
        </div>

        <script type="text/javascript" src="../static/js/venta.js" th:src="@{'/js/venta.js'}"></script>
    </body>
</html>
